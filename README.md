# Библиотека сбора метрик

Данный репозиторий содержит небольшую библиотеку на C++ для сбора метрик и их записи в текстовый файл. Значения фиксируются без блокировки потоков, в которых происходят события. Отдельный поток периодически сохраняет накопленные значения и обнуляет их после записи.

## GitHub Actions
>
> Для автоматической сборки и быстрого тестирования примера добавлен GitHub Actions workflow, выполняющийся на трёх системах:
>
> - **Ubuntu (GCC)**
> - **macOS (Clang)**
> - **Windows (MSVC)**
>
> ### Как использовать
>
> 1. Перейдите на вкладку **Actions**
> 2. Выберите workflow **Build and Run example**
> 3. Нажмите кнопку **Run workflow** для ручного запуска

## Сборка примера

```
mkdir build
cd build
cmake ..
make
```

Пример можно скомпилировать и напрямую при помощи g++:

```
g++ -std=c++17 ../examples/main.cpp -I../include -o metrics_example -pthread
```

## Запуск примера

```
./metrics_example
```

Демонстрация имитирует загрузку CPU и количество HTTP запросов. Результаты сохраняются в файл `metrics.log` в текущем каталоге.
